		LIST		P=PIC16F84A
		#INCLUDE	<P16F84A.INC>

		__CONFIG	_HS_OSC&_CP_OFF&_WDT_OFF&_PWRTE_ON

W_TEMP		EQU		0CH
STATUS_TEMP	EQU		0DH
CNT1		EQU		0EH
CNTB		EQU		0FH
IN		EQU		012H

		ORG		0H
		GOTO	MAIN
		ORG		04H

;PUSH
	MOVWF	W_TEMP
	MOVF	STATUS,W
	MOVWF	STATUS_TEMP
	MOVLW	'T'
	CALL 	CSEND
	MOVLW	'A'
	CALL 	CSEND
	MOVLW	'K'
	CALL 	CSEND
	MOVLW	'O'
	CALL 	CSEND
	MOVLW	020H
	CALL 	CSEND
	MOVLW	'T'
	CALL 	CSEND
	MOVLW	'A'
	CALL 	CSEND
	MOVLW	'R'
	CALL 	CSEND
	MOVLW	'O'
	CALL 	CSEND
	MOVLW	'/'
	CALL 	CSEND
	MOVLW	0E7H
	CALL 	CSEND
	MOVLW	94H
	CALL 	CSEND
	MOVLW	0B0H
	CALL 	CSEND
	MOVLW	0E5H
	CALL 	CSEND
	MOVLW	85H
	CALL 	CSEND
	MOVLW	89H
	CALL 	CSEND
	MOVLW	0E3H
	CALL 	CSEND
	MOVLW	80H
	CALL 	CSEND
	MOVLW	80H
	CALL 	CSEND
	MOVLW	0E5H
	CALL 	CSEND
	MOVLW	0A4H
	CALL 	CSEND
	MOVLW	0AAH
	CALL 	CSEND
	MOVLW	0E9H
	CALL 	CSEND
	MOVLW	83H
	CALL 	CSEND
	MOVLW	8EH
	CALL 	CSEND
	MOVLW	0DH
	CALL 	CSEND
	MOVLW	0AH
	CALL 	CSEND

;POP
	MOVF	STATUS_TEMP,W
	MOVWF	STATUS
	SWAPF	W_TEMP,F
	SWAPF	W_TEMP,W
	BCF	INTCON,INTF
	RETFIE

MAIN
	BSF	STATUS,RP0
	BCF	INTCON,GIE
	CLRF	TRISA
	MOVLW	01H
	MOVWF	TRISB
	BCF	STATUS,RP0
	BSF	PORTA,4
	BSF	INTCON,GIE
	BSF	INTCON,INTE
MAINLP
	GOTO	MAINLP
CSEND
	MOVWF	IN
	MOVLW	08H
	MOVWF	CNTB
	BCF	PORTA,4
	CALL	TIME104
CSENDLP
	BTFSC	IN,0
	BSF	PORTA,4
	BTFSS	IN,0
	BCF	PORTA,4
	CALL	TIME104
	RRF	IN,F
	DECFSZ	CNTB,F
	GOTO	CSENDLP
	BSF	PORTA,4
	CALL	TIME104
	RETURN

;104us
TIME104
	MOVLW	082H
	MOVWF	CNT1
LOOP2
	NOP
	DECFSZ	CNT1,F
	GOTO	LOOP2
	RETURN

	END





