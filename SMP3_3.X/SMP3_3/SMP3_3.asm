LIST	P=PIC16F84A
INCLUDE	"P16F84A.INC"
		
__CONFIG	_HS_OSC
		
TMP0	EQU	0CH		
TMP1	EQU	0DH
	ORG	0H

MAIN
	BSF	STATUS, RP0	
	CLRF	TRISA ;PORTA->Output		
	MOVLW	0FFH
	MOVWF	TRISB ;PORTB->Input	
	BCF		STATUS,	RP0		
	CLRF	PORTA
LOOP
	MOVF	PORTB,	W
	ANDLW	B'00001111'
	MOVWF	TMP0
	
	MOVF	PORTB,	W
	ANDLW	B'11110000'
	MOVWF	TMP1
	
	BCF	STATUS,	C
	RRF	TMP1,	F
	RRF	TMP1,	F
	RRF	TMP1,	F
	RRF	TMP1,	F
	
	MOVF	TMP0,W
	
	ANDWF	TMP1,TMP1
	COMF	TMP1,W
	
	MOVWF	PORTA
	
	GOTO	LOOP
	END